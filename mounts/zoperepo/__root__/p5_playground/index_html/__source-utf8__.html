<p metal:use-macro="context/master_pt/macros/std_page">
  <div metal:fill-slot="std_body">

    <script src="/lib/js/codemirror.js"></script>
    <link rel="stylesheet" href="/lib/css/codemirror.css">
    <script src="/lib/js/javascript.js"></script>
	<script src="examples_js"></script>
	<script src="custom_js"></script>

    <h1>p5js playground</h1>

    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="../index_html">Home</a></li>
        <li class="breadcrumb-item active" aria-current="page">p5js playground</li>
      </ol>
    </nav>

    <h4>Data / Code controls</h4>
    <div class="input-group mb-3">
        <label class="input-group-text" for="choreo_id">Record to use as DATA</label>
        <select class="form-select" id="choreo_id" aria-label="Record to use as DATA">
        </select>
        <label class="input-group-text" for="jsonpath">jsonPath</label>
        <input id="jsonpath" type="text" class="form-control" value="$[*]" aria-label="jsonPath">
        <button class="btn btn-primary" id="run_code" type="button">
            <span id="run_label">Run code</span>
            <span id="data_loading" style="display: none;" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
        </button>

    </div>

    <h4>Code import / export</h4>
    <div class="input-group mb-3">

        <input id="import_file" type="file" class="form-control" aria-label="jsonPath">
        <button class="btn btn-outline-secondary" id="import_code" type="button">Import code</button>

        <label class="input-group-text" for="example_chooser">Examples</label>
        <select class="form-select" id="example_chooser">
            <option value="template" selected>Basic template</option>
            <option value="stickman">Stickman example</option>
            <option value="perlin_replacement">Perlin noise replacement example</option>
        </select>

        <button class="btn btn-outline-secondary" id="download_code" type="button">Download code</button>

    </div>

    <h4>Result image download</h4>
    <div class="input-group mb-3">
        <button class="btn btn-outline-secondary" id="download_svg" type="button">Download SVG</button>
        <button class="btn btn-outline-secondary" id="download_png" type="button">Download PNG</button>
    </div>

    <h4>p5 stage</h4>
    <div id="p5_stage"></div>

    <h4>JS editor</h4>
    <div id="editor"></div>

  </div>
</p>